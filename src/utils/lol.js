const obj = {
  kind: "youtube#video",
  etag: "zJwZPxQ2bACKZhSrzWnwTQ9sX6I",
  id: "Iiukc5Z5kA0",
  snippet: {
    publishedAt: "2024-10-05T20:33:41Z",
    channelId: "UCdy3vTomYlwA0d-XI5kkP2w",
    title: "What Actually Happened in Asheville: A Hurricane Helene Story",
    description:
      "Our Experience During Hurricane Helene\nThis is firsthand footage captured in Asheville, NC, from Thursday September 25th to Sunday September 29th. \n\nIn this sensitive time, we acknowledge the deep pain many are experiencing. We kindly ask everyone to be mindful of others when commenting. \n\nAs of October 4th, Jillian still has family stranded in Asheville. We recorded this footage to authentically document the situation as it unfolded on the ground and to help spread the word about the catastrophic devastation so more people can help. \n\nWe invite you to join us in praying for and supporting the people affected in Asheville and throughout the states impacted by Helene. \n\nWays to Help:\n\n- BeLoved Asheville:\n  Venmo: [BeLoved-Asheville](https://venmo.com/BeLoved-Asheville)  \n  PayPal: [BeLoved Asheville](https://www.paypal.me/BeLovedAsheville)\n\n- Old Europe:\n  PayPal: @DangHeleneHelpOE\n\n- MANNA FoodBank:\n Donate Here (https://donate.mannafoodbank.org)\n\n- Asheville Survival Program: \n  Venmo: @AppMedSolid  \n  CashApp: $Streets1de\n\nWhy We Were There:\n\nOn September 25th, we were en route from Indiana to Charlotte, NC, with plans to spend one night in Asheville. Due to unforeseen circumstances, we found ourselves unexpectedly staying through one of the worst natural disasters in American history.\n\nAs Hurricane Helene approached, we began documenting the unfolding events to share the reality on the ground in real time. What started as a simple recording evolved into a short film that felt essential to capture.\n\nWe hope this video offers insight into the rapid, chaotic, and disorienting days leading up to and including Hurricane Helene’s landfall. Watching the footage from NC and neighboring areas, we believe our documentation is vital to understanding how this event unfolded and we hope it inspires you to help in whatever way you can. \n\nThank you for taking the time to watch our video. Our hearts and prayers go out to all those affected by this disaster, and we will continue to keep everyone in our thoughts.\n\nEver Upwards and Shine ON,  \nN + J\n\nFootage Filmed By: The Bergamot (Jillian Speece & Nathaniel Paul Hoff) \n\nVideo Edited By: \nNathaniel Paul Hoff \n\nAdditional Editing By: \nDalton Misner (@daltonmisner) and Molly Elizabeth (@mollyelizabethdesigns) \n\nMore about us:\nMusic: thebergamot.com\nFilm: stateoftheunity.com",
    thumbnails: {
      default: {
        url: "https://i.ytimg.com/vi/Iiukc5Z5kA0/default.jpg",
        width: 120,
        height: 90,
      },
      medium: {
        url: "https://i.ytimg.com/vi/Iiukc5Z5kA0/mqdefault.jpg",
        width: 320,
        height: 180,
      },
      high: {
        url: "https://i.ytimg.com/vi/Iiukc5Z5kA0/hqdefault.jpg",
        width: 480,
        height: 360,
      },
      standard: {
        url: "https://i.ytimg.com/vi/Iiukc5Z5kA0/sddefault.jpg",
        width: 640,
        height: 480,
      },
      maxres: {
        url: "https://i.ytimg.com/vi/Iiukc5Z5kA0/maxresdefault.jpg",
        width: 1280,
        height: 720,
      },
    },
    channelTitle: "The Bergamot",
    tags: ["Asheville", "Hurricane Helene", "Vlog"],
    categoryId: "25",
    liveBroadcastContent: "none",
    localized: {
      title: "What Actually Happened in Asheville: A Hurricane Helene Story",
      description:
        "Our Experience During Hurricane Helene\nThis is firsthand footage captured in Asheville, NC, from Thursday September 25th to Sunday September 29th. \n\nIn this sensitive time, we acknowledge the deep pain many are experiencing. We kindly ask everyone to be mindful of others when commenting. \n\nAs of October 4th, Jillian still has family stranded in Asheville. We recorded this footage to authentically document the situation as it unfolded on the ground and to help spread the word about the catastrophic devastation so more people can help. \n\nWe invite you to join us in praying for and supporting the people affected in Asheville and throughout the states impacted by Helene. \n\nWays to Help:\n\n- BeLoved Asheville:\n  Venmo: [BeLoved-Asheville](https://venmo.com/BeLoved-Asheville)  \n  PayPal: [BeLoved Asheville](https://www.paypal.me/BeLovedAsheville)\n\n- Old Europe:\n  PayPal: @DangHeleneHelpOE\n\n- MANNA FoodBank:\n Donate Here (https://donate.mannafoodbank.org)\n\n- Asheville Survival Program: \n  Venmo: @AppMedSolid  \n  CashApp: $Streets1de\n\nWhy We Were There:\n\nOn September 25th, we were en route from Indiana to Charlotte, NC, with plans to spend one night in Asheville. Due to unforeseen circumstances, we found ourselves unexpectedly staying through one of the worst natural disasters in American history.\n\nAs Hurricane Helene approached, we began documenting the unfolding events to share the reality on the ground in real time. What started as a simple recording evolved into a short film that felt essential to capture.\n\nWe hope this video offers insight into the rapid, chaotic, and disorienting days leading up to and including Hurricane Helene’s landfall. Watching the footage from NC and neighboring areas, we believe our documentation is vital to understanding how this event unfolded and we hope it inspires you to help in whatever way you can. \n\nThank you for taking the time to watch our video. Our hearts and prayers go out to all those affected by this disaster, and we will continue to keep everyone in our thoughts.\n\nEver Upwards and Shine ON,  \nN + J\n\nFootage Filmed By: The Bergamot (Jillian Speece & Nathaniel Paul Hoff) \n\nVideo Edited By: \nNathaniel Paul Hoff \n\nAdditional Editing By: \nDalton Misner (@daltonmisner) and Molly Elizabeth (@mollyelizabethdesigns) \n\nMore about us:\nMusic: thebergamot.com\nFilm: stateoftheunity.com",
    },
    defaultAudioLanguage: "en-US",
  },
  contentDetails: {
    duration: "PT27M52S",
    dimension: "2d",
    definition: "hd",
    caption: "true",
    licensedContent: false,
    contentRating: {},
    projection: "rectangular",
  },
  statistics: {
    viewCount: "2642187",
    likeCount: "69889",
    favoriteCount: "0",
    commentCount: "10745",
  },
};

// Fetch Data
const fetchVideosAndChannels = async () => {
  try {
    // Fetch popular videos
    const videoResponse = await fetch(VIDEOS_API_URL);
    const videoData = await videoResponse.json();

    // Fetch channel icons for each video
    const channelIds = videoData.items.map((video) => video.snippet.channelId);
    const channelPromises = channelIds.map((id) => fetch(CHANNELS_API_URL(id)));
    const channelResponses = await Promise.all(channelPromises);
    const channelData = await Promise.all(
      channelResponses.map((res) => res.json()),
    );

    // Merge video and channel data
    const videosWithChannelIcons = videoData.items.map((video, index) => ({
      ...video,
      channelIcon:
        channelData[index].items[0]?.snippet?.thumbnails?.default?.url,
    }));

    return videosWithChannelIcons;
  } catch (error) {
    console.error("Error fetching videos or channels:", error);
  }
};
